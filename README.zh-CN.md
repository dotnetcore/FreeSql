<h1 align="center"> ğŸ¦„ FreeSql </h1><div align="center">

FreeSql æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆO/RMï¼‰ç»„ä»¶ï¼Œæ”¯æŒ .NET Core 2.1+ã€.NET Framework 4.0+ ä»¥åŠ Xamarinã€‚

[![Member project of .NET Core Community](https://img.shields.io/badge/member%20project%20of-NCC-9e20c9.svg)](https://github.com/dotnetcore)
[![nuget](https://img.shields.io/nuget/v/FreeSql.svg?style=flat-square)](https://www.nuget.org/packages/FreeSql) 
[![stats](https://img.shields.io/nuget/dt/FreeSql.svg?style=flat-square)](https://www.nuget.org/stats/packages/FreeSql?groupby=Version) 
[![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/2881099/FreeSql/master/LICENSE.txt)

<p align="center">
    <a href="README.md">English</a> |   
    <span>ä¸­æ–‡</span>
</p>

</div>

- ğŸ›  æ”¯æŒ CodeFirst æ¨¡å¼ï¼Œå³ä¾¿ä½¿ç”¨ Access æ•°æ®åº“ä¹Ÿæ”¯æŒæ•°æ®è¿ç§»ï¼›
- ğŸ’» æ”¯æŒ DbFirst æ¨¡å¼ï¼Œæ”¯æŒä»æ•°æ®åº“å¯¼å…¥å®ä½“ç±»ï¼Œæˆ–ä½¿ç”¨[å®ä½“ç±»ç”Ÿæˆå·¥å…·](https://github.com/2881099/FreeSql/wiki/DbFirst)ç”Ÿæˆå®ä½“ç±»ï¼›
- â›³ æ”¯æŒ æ·±å…¥çš„ç±»å‹æ˜ å°„ï¼Œæ¯”å¦‚ PgSql çš„æ•°ç»„ç±»å‹ç­‰ï¼›
- âœ’ æ”¯æŒ ä¸°å¯Œçš„è¡¨è¾¾å¼å‡½æ•°ï¼Œä»¥åŠçµæ´»çš„è‡ªå®šä¹‰è§£æï¼›
- ğŸ æ”¯æŒ å¯¼èˆªå±æ€§ä¸€å¯¹å¤šã€å¤šå¯¹å¤šè´ªå©ªåŠ è½½ï¼Œä»¥åŠå»¶æ—¶åŠ è½½ï¼›
- ğŸ“ƒ æ”¯æŒ è¯»å†™åˆ†ç¦»ã€åˆ†è¡¨åˆ†åº“ã€è¿‡æ»¤å™¨ã€ä¹è§‚é”ã€æ‚²è§‚é”ï¼›
- ğŸŒ³ æ”¯æŒ MySql/SqlServer/PostgreSQL/Oracle/Sqlite/Firebird/è¾¾æ¢¦/äººå¤§é‡‘ä»“/ç¥èˆŸé€šç”¨/ç¿°é«˜/åä¸ºGaussDB/Access ç­‰æ•°æ®åº“ï¼›

QQç¾¤ï¼š4336577(å·²æ»¡)ã€8578575(åœ¨çº¿)ã€52508226(åœ¨çº¿)

## ğŸ“š æ–‡æ¡£

| | |
| - | - |
| <img src="https://github.com/dotnetcore/FreeSql/raw/master/Examples/restful/001.png" width="30" height="46"/> | [ã€Šæ–°äººå­¦ä¹ æŒ‡å¼•ã€‹](https://www.cnblogs.com/FreeSql/p/11531300.html) \| [ã€ŠSelectã€‹](https://github.com/2881099/FreeSql/wiki/%e6%9f%a5%e8%af%a2) \| [ã€ŠUpdateã€‹](https://github.com/2881099/FreeSql/wiki/%e4%bf%ae%e6%94%b9) \| [ã€ŠInsertã€‹](https://github.com/2881099/FreeSql/wiki/%e6%b7%bb%e5%8a%a0) \| [ã€ŠDeleteã€‹](https://github.com/2881099/FreeSql/wiki/%e5%88%a0%e9%99%a4) |
| <img src="https://github.com/dotnetcore/FreeSql/raw/master/Examples/restful/002.png" width="30" height="46"/> | [ã€Šè¡¨è¾¾å¼å‡½æ•°ã€‹](https://github.com/2881099/FreeSql/wiki/%e8%a1%a8%e8%be%be%e5%bc%8f%e5%87%bd%e6%95%b0) \| [ã€ŠCodeFirstã€‹](https://github.com/2881099/FreeSql/wiki/CodeFirst) \| [ã€ŠDbFirstã€‹](https://github.com/2881099/FreeSql/wiki/DbFirst) \| [ã€Šè¿‡æ»¤å™¨ã€‹](https://github.com/2881099/FreeSql/wiki/%e8%bf%87%e6%bb%a4%e5%99%a8) |
| <img src="https://github.com/dotnetcore/FreeSql/raw/master/Examples/restful/003.png" width="30" height="46"/> | [ã€ŠRepositoryã€‹](https://github.com/2881099/FreeSql/wiki/Repository) \| [ã€ŠUnitOfWorkã€‹](https://github.com/2881099/FreeSql/wiki/%e5%b7%a5%e4%bd%9c%e5%8d%95%e5%85%83) \| [ã€ŠDbContextã€‹](https://github.com/2881099/FreeSql/wiki/DbContext) \| [ã€ŠADOã€‹](https://github.com/2881099/FreeSql/wiki/ADO) \| [ã€ŠAOPã€‹](https://github.com/2881099/FreeSql/wiki/AOP) |
| <img src="https://github.com/dotnetcore/FreeSql/raw/master/Examples/restful/004.png" width="30" height="46"/> | [ã€Šè¯»å†™åˆ†ç¦»ã€‹](https://github.com/2881099/FreeSql/wiki/%e8%af%bb%e5%86%99%e5%88%86%e7%a6%bb) \| [ã€Šåˆ†è¡¨åˆ†åº“ã€‹](https://github.com/2881099/FreeSql/wiki/%e5%88%86%e8%a1%a8%e5%88%86%e5%ba%93) \| [ã€Šé»‘ç§‘æŠ€ã€‹](https://github.com/2881099/FreeSql/wiki/%E9%AA%9A%E6%93%8D%E4%BD%9C) \| [ã€Šå¸¸è§é—®é¢˜ã€‹](https://github.com/dotnetcore/FreeSql/wiki/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98)  \| [*æ›´æ–°æ—¥å¿—*](https://github.com/2881099/FreeSql/wiki/%e6%9b%b4%e6%96%b0%e6%97%a5%e5%bf%97) |

> FreeSql æä¾›å¤šç§ä½¿ç”¨ä¹ æƒ¯ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©å›¢é˜Ÿåˆé€‚çš„ä¸€ç§ï¼š

- è¦ä¹ˆ FreeSqlï¼ŒåŸå§‹ç”¨æ³•ï¼›
- è¦ä¹ˆ [FreeSql.Repository](https://github.com/2881099/FreeSql/wiki/Repository)ï¼Œä»“å‚¨+å·¥ä½œå•å…ƒä¹ æƒ¯ï¼›
- è¦ä¹ˆ [FreeSql.DbContext](https://github.com/2881099/FreeSql/wiki/DbContext)ï¼Œæœ‰ç‚¹åƒ EFCore çš„ä½¿ç”¨ä¹ æƒ¯ï¼›
- è¦ä¹ˆ [FreeSql.BaseEntity](https://github.com/2881099/FreeSql/tree/master/Examples/base_entity)ï¼Œæ±‚ç®€å•ä½¿ç”¨è¿™ä¸ªï¼›

> ç¤ºèŒƒé¡¹ç›®

- [zhontai.net Admin åå°ç®¡ç†ç³»ç»Ÿ](https://github.com/zhontai/Admin.Core)
- [A simple and practical CMS implemented by .NET Core](https://github.com/luoyunchong/lin-cms-dotnetcore)
- [iusaas.com SaaS ä¼ä¸šåº”ç”¨ç®¡ç†ç³»ç»Ÿ](https://github.com/alonsoalon/TenantSite.Server)
- [EasyCms ä¼ä¸šå»ºç«™ï¼Œäº‹ä¸šå•ä½ä½¿ç”¨çš„CMSç®¡ç†ç³»ç»Ÿ](https://github.com/jasonyush/EasyCMS)
- [å†…å®¹ç®¡ç†ç³»ç»Ÿ](https://github.com/hejiyong/fscms)

<p align="center">
  <img src="https://github.com/dotnetcore/FreeSql/raw/master/functions11.png"/>
</p>

## ğŸš€ å¿«é€Ÿå…¥é—¨

> dotnet add package FreeSql.Provider.Sqlite

```csharp
static IFreeSql fsql = new FreeSql.FreeSqlBuilder()
  .UseConnectionString(FreeSql.DataType.Sqlite, @"Data Source=document.db")
  .UseAutoSyncStructure(true) //è‡ªåŠ¨åŒæ­¥å®ä½“ç»“æ„åˆ°æ•°æ®åº“
  .Build(); //è¯·åŠ¡å¿…å®šä¹‰æˆ Singleton å•ä¾‹æ¨¡å¼

class Song {
  [Column(IsIdentity = true)]
  public int Id { get; set; }
  public string Title { get; set; }
  public string Url { get; set; }
  public DateTime CreateTime { get; set; }
  
  public ICollection<Tag> Tags { get; set; }
}
class Song_tag {
  public int Song_id { get; set; }
  public Song Song { get; set; }
  
  public int Tag_id { get; set; }
  public Tag Tag { get; set; }
}
class Tag {
  [Column(IsIdentity = true)]
  public int Id { get; set; }
  public string Name { get; set; }
  
  public int? Parent_id { get; set; }
  public Tag Parent { get; set; }
  
  public ICollection<Song> Songs { get; set; }
  public ICollection<Tag> Tags { get; set; }
}
```

### ğŸ” Query (æŸ¥è¯¢)
```csharp
//OneToOneã€ManyToOne
fsql.Select<Tag>().Where(a => a.Parent.Parent.Name == "ç²¤è¯­").ToList();

//OneToMany
fsql.Select<Tag>().IncludeMany(a => a.Tags, then => then.Where(sub => sub.Name == "foo")).ToList();

//ManyToMany
fsql.Select<Song>()
  .IncludeMany(a => a.Tags, then => then.Where(sub => sub.Name == "foo"))
  .Where(s => s.Tags.AsSelect().Any(t => t.Name == "å›½è¯­"))
  .ToList();

//Other
fsql.Select<YourType>()
  .Where(a => a.IsDelete == 0)
  .WhereIf(keyword != null, a => a.UserName.Contains(keyword))
  .WhereIf(role_id > 0, a => a.RoleId == role_id)
  .Where(a => a.Nodes.AsSelect().Any(t => t.Parent.Id == t.UserId))
  .Count(out var total)
  .Page(page, size)
  .OrderByDescending(a => a.Id)
  .ToList()
```
[æ›´å¤šä¿¡æ¯](https://github.com/2881099/FreeSql/wiki/%e6%9f%a5%e8%af%a2)

```csharp
fsql.Select<Song>().Where(a => new[] { 1, 2, 3 }.Contains(a.Id)).ToList();

fsql.Select<Song>().Where(a => a.CreateTime.Date == DateTime.Today).ToList();

fsql.Select<Song>().OrderBy(a => Guid.NewGuid()).Limit(10).ToList();
```
[æ›´å¤šä¿¡æ¯](https://github.com/2881099/FreeSql/wiki/%e8%a1%a8%e8%be%be%e5%bc%8f%e5%87%bd%e6%95%b0) 

### ğŸš Repository (ä»“å‚¨)

> dotnet add package FreeSql.Repository

```csharp
[Transactional]
public void Add() {
  var repo = ioc.GetService<BaseRepository<Tag>>();
  repo.DbContextOptions.EnableAddOrUpdateNavigateList = true;

  var item = new Tag {
    Name = "testaddsublist",
    Tags = new[] {
      new Tag { Name = "sub1" },
      new Tag { Name = "sub2" }
    }
  };
  repo.Insert(item);
}
```

å‚è€ƒï¼š[åœ¨ ASP.NET Core ä¸­ä½¿ç”¨ `TransactionalAttribute` + `UnitOfWorkManager` å®ç°å¤šç§äº‹åŠ¡ä¼ æ’­](https://github.com/dotnetcore/FreeSql/issues/289)

## ğŸ’ª Performance (æ€§èƒ½)

FreeSql Query ä¸ Dapper Query çš„å¯¹æ¯”ï¼š

```shell
Elapsed: 00:00:00.6733199; Query Entity Counts: 131072; ORM: Dapper

Elapsed: 00:00:00.4554230; Query Tuple Counts: 131072; ORM: Dapper

Elapsed: 00:00:00.6846146; Query Dynamic Counts: 131072; ORM: Dapper

Elapsed: 00:00:00.6818111; Query Entity Counts: 131072; ORM: FreeSql*

Elapsed: 00:00:00.6060042; Query Tuple Counts: 131072; ORM: FreeSql*

Elapsed: 00:00:00.4211323; Query ToList<Tuple> Counts: 131072; ORM: FreeSql*

Elapsed: 00:00:01.0236285; Query Dynamic Counts: 131072; ORM: FreeSql*
```

FreeSql ToList ä¸ Dapper Query çš„å¯¹æ¯”ï¼š

```shell
Elapsed: 00:00:00.6707125; ToList Entity Counts: 131072; ORM: FreeSql*

Elapsed: 00:00:00.6495301; Query Entity Counts: 131072; ORM: Dapper
```

[æ›´å¤šä¿¡æ¯](https://github.com/2881099/FreeSql/wiki/%e6%80%a7%e8%83%bd)

## ğŸ‘¯ Contributors (è´¡çŒ®è€…)

<a href="https://contributors-img.web.app/image?repo=dotnetcore/FreeSql">
  <img src="https://contributors-img.web.app/image?repo=dotnetcore/FreeSql" />
</a>

ä»¥åŠå…¶ä»–ä¸ºæœ¬é¡¹ç›®æå‡ºé‡è¦å»ºè®®çš„æœ‹å‹ä»¬ï¼Œä»–ä»¬åŒ…æ‹¬ï¼š

[systemhejiyong](https://github.com/systemhejiyong), 
[LambertW](https://github.com/LambertW), 
[mypeng1985](https://github.com/mypeng1985), 
[stulzq](https://github.com/stulzq), 
[movingsam](https://github.com/movingsam), 
[ALer-R](https://github.com/ALer-R), 
[zouql](https://github.com/zouql), 
æ·±åœ³|å‡‰èŒ¶, 
[densen2014](https://github.com/densen2014), 
[LiaoLiaoWuJu](https://github.com/LiaoLiaoWuJu), 
[hd2y](https://github.com/hd2y), 
[tky753](https://github.com/tky753), 
[feijie999](https://github.com/feijie999), 
constantine, 
[JohnZhou2020](https://github.com/JohnZhou2020), 
[mafeng8](https://github.com/mafeng8) ç­‰ã€‚


## ğŸ’• Donation (æèµ )

L*y 58å…ƒã€èŠ±èŠ± 88å…ƒã€éº¦å…œå¾ˆä¹– 50å…ƒã€ç½‘ç»œæ¥è€… 2000å…ƒã€John 99.99å…ƒã€alex 666å…ƒã€bacongao 36å…ƒã€æ— å 100å…ƒã€Eternity 188å…ƒã€æ— å 10å…ƒã€âŒ’.Helper~..oO 66å…ƒã€ä¹ æƒ¯ä¸è¢«ä¹ æƒ¯ 100å…ƒã€æ— å 100å…ƒã€è”¡æ˜“å–‹ 88.88å…ƒã€ä¸­è®¯ç§‘æŠ€ 1000å…ƒã€Good Good Work 24å…ƒã€ç‚½ç„° 6.6å…ƒã€Nothing 100å…ƒã€å…°å·å¤©æ“èµµ 500å…ƒã€å“ˆåˆ©è·¯äºš 300å…ƒã€
æ— å 100å…ƒã€è›°ä¼ 99.99å…ƒã€TCYM 66.66å…ƒã€MOTA 5å…ƒã€LDZXG 30å…ƒã€Near 30å…ƒã€å»ºçˆ½ 66å…ƒã€æ— å 200å…ƒã€LambertWu 100å…ƒã€æ— å 18.88å…ƒã€ä¹Œé¾™ 50å…ƒã€æ— å 100å…ƒã€é™³æ€¼æ€¼ 66.66å…ƒã€é™³æ€¼æ€¼ 66.66å…ƒã€ä¸æ·® 100å…ƒã€æä¼Ÿåš-Excelå‚¬åŒ–å‰‚ 100å…ƒã€ç™½ç‹ 6.66å…ƒã€å¥¹å¾®ç¬‘çš„è„¸y 30å…ƒã€EternityÂ²ÂºÂ²Â¹ 588å…ƒã€å¤œå½’æŸ´é—¨ 88å…ƒã€è”¡æ˜“å–‹ 666.66å…ƒã€
*ç¤¼ 10å…ƒã€litrpa 88å…ƒã€Alax CHOW 200å…ƒã€Daily 66å…ƒã€k*t 66å…ƒã€è“ 100å…ƒã€*èœ 10å…ƒã€ç”Ÿå‘½å¦‚æ­Œ 1000å…ƒ

> è¶…çº§æ„Ÿè°¢ä½ çš„æ‰“èµã€‚

- [Alipay](https://www.cnblogs.com/FreeSql/gallery/image/338860.html)

- [WeChat](https://www.cnblogs.com/FreeSql/gallery/image/338859.html)

## ğŸ—„ License (è®¸å¯è¯)

[MIT](LICENSE)
